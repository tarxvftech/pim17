# Contributor:
# Maintainer:
pkgname=mmdvm_firmware_bin
pkgver=v1.6.0
pkgrel=1
pkgdesc="Convenient MMDVM modem firmware images (stored in /srv/fw/)"
url="https://github.com/tarxvftech/MMDVM_HS_CICD"
arch="noarch"
license="GPLv2"
depends=""
makedepends=""
install=""
subpackages=""
source="https://github.com/tarxvftech/MMDVM_HS_CICD/releases/download/v1.6.0-pre.2%2Bbuild1/all.built.images.no.elf.zip"
builddir="$srcdir/"

copy_and_create_as_needed(){
	src="$1"
	dst="$2"
	mkdir -p "$2"
	cp -r "$src" "$dst"
}
package() {
	prefix="/usr/share/mmdvm_firmware_bin"
	mkdir -p "$pkgdir"
	ls -latr $srcdir
	copy_and_create_as_needed "$srcdir"/MMDVM_HS_Hat 		"$pkgdir"/$prefix/MMDVM_HS_Hat/simplex/ADF7021/14.7456MHz/
	copy_and_create_as_needed "$srcdir"/MMDVM_HS_Dual_Hat 		"$pkgdir"/$prefix/MMDVM_HS_Hat/duplex/ADF7021/14.7456MHz/
	copy_and_create_as_needed "$srcdir"/MMDVM_HS_Hat-12mhz 		"$pkgdir"/$prefix/MMDVM_HS_Hat/simplex/ADF7021/12.2880MHz/
	copy_and_create_as_needed "$srcdir"/MMDVM_HS_Dual_Hat-12mhz 	"$pkgdir"/$prefix/MMDVM_HS_Hat/duplex/ADF7021/12.2880MHz/
}

sha512sums="
ea5af3c1082f77a2d7714820d99cb5e30e084dc39b65704b2ecb8a95605b92ae0e0fff3fc25002d7f362d021f9f43eaf84ee19684fa7a21e71b7844913eab165  all.built.images.no.elf.zip
"
