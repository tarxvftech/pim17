# Contributor: 
# Maintainer:
pkgname=mmdvm_easyflash
pkgver=0.0.4
#NOTE: Must match what's in pyproject.toml!
pkgrel=0
pkgdesc="Best way to flash a limited subset of MMDVM modems and hotspots"
url="https://git.mmcginty.me/mike/mmdvm_easyflash.git"
arch="noarch"
license="AGPL3"
depends="python3 py3-pyserial py3-semver stm32flash"
makedepends="py3-setuptools py3-pip py3-build py3-installer"
checkdepends="py3-pytest"
install=""
subpackages=""
source="$pkgname-$pkgver.tar.gz::https://git.mmcginty.me/mike/mmdvm_easyflash/archive/master.tar.gz"
builddir="$srcdir/$pkgname"

#use https://git.alpinelinux.org/aports/tree/community/py3-rich/APKBUILD as a guide
build() {
	cd $builddir
	ls -latr
	pwd
	python3 -m build
}


package() {
	mkdir -p $pkgdir
	cd $builddir
	ls -altr dist/
	python3 -m installer -d "$pkgdir" dist/$pkgname-$pkgver-py3-none-any.whl
	
}

sha512sums="
340bc09689536dbcf38035fce5c04ddda62a648a327c5022190b4ab8d56dbb42d297957d66d07d97c1bab020527fb4e337f94842371775bb758948d982c8c0a6  mmdvm_easyflash-0.0.4.tar.gz
"
